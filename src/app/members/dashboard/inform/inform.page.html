<ion-header>
  <img src="/assets/img/logo.png" alt="logo">
  <ion-toolbar color="tertiary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/dashboard"></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button (click)="logout()">
        <ion-icon slot="icon-only" name="log-out"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Informe de productividad</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding">
  <ion-card>
    <table class="table" >

      <tbody>
      <tr>
        <th scope="col">BLOQUE</th>
        <td>
          <select
                  name="codigo_bloque"
                  id="codigo_bloque"
                  class="form-control"
                  [(ngModel)]="codigo_bloque" ng-click="getVarirtyByBlock()">
            <option *ngFor="let method of blockData" [value]="method.codigo" >{{ method.nombre }}</option>
          </select>
        </td>
      </tr>
      <tr>
        <th scope="col">VARIEDAD</th>

        <td>
          <select
                  name="id_variedad"
                  id="id_variedad"
                  class="form-control"
                  [(ngModel)]="codigo_variedad">
            <option *ngFor="let method of varietyData" [value]="method.codigo_variedad">{{ method.nombre }}</option>
          </select>
        </td>


      </tr>
      <tr>
        <th scope="col">FECHA DESDE</th>

        <td>
          <input type="date" class="form-control" value="2019-11-01" [(ngModel)]="fecha_inicio" placeholder="Fecha Inicio" aria-label="Fecha Inicio" aria-describedby="addon-wrapping">

        </td>

      </tr>
      <tr>
        <th scope="col">FECHA HASTA</th>

        <td>
          <input type="date" class="form-control" value="2019-12-01" [(ngModel)]="fecha_fin" placeholder="Fecha Fin" aria-label="Fecha Fin" aria-describedby="addon-wrapping">

        </td>
      </tr>
      <tr>
        <th colspan="2">
          <ion-button (click)="getInventory()" color="primary" shape="round">Consultar</ion-button>
        </th>
      </tr>
      </tbody>
    </table>
  </ion-card>
  <div  class="d-flex justify-content-center" >
    <div id="spnr-inf" style="display: none" class="spinner-border text-tertiary" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
  <ion-card>
    <table class="table" id="inform" style="display: none">
      <thead>
      <tr>
        <th scope="col">BLOQUE</th>
        <th scope="col">VARIEDAD</th>
        <th scope="col">TALLOS</th>
        <th scope="col">X PLANTA</th>
        <th scope="col">X M2</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of inventoryData">
        <td>{{ item.cod_bloque }}</td>
        <td>{{ item.variedad }}</td>
        <td>{{ item.numero_tallos }}</td>
        <td>{{ (item.numero_tallos/item.plants_numbers).toFixed(3) }}</td>
        <td>{{ (item.numero_tallos/item.squars_meters).toFixed(3) }}</td>

      </tr>
      </tbody>

    </table>

  </ion-card>
</ion-content>